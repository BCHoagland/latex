\documentclass[twoside,10pt]{report}
\usepackage{/Users/bradenhoagland/latex/styles/toggles}
\toggletrue{sectionbreaks}
%\toggletrue{sectionheaders}
\newcommand{\docTitle}{Module Theory}
\usepackage{/Users/bradenhoagland/latex/styles/common}
\importStyles{formal}{rainbow}{lined}

%\renewcommand{\theenumi}{\alph{enumi}}

\usepackage{stmaryrd}
\usepackage{multicol}
\setlength{\columnseprule}{0.5pt}
\setlength{\columnsep}{1cm}

\begin{document}

\tableofcontents

%+-------------------+
%| +---------------+ |
%| |    Chapter    | |
%| +---------------+ |
%+-------------------+
% Modules

\chapter{Modules}

%--------------------------------------------------------------------------------
% Modules and Algebras
%--------------------------------------------------------------------------------
\section{Modules and Algebras}

Modules are a generalization of vector spaces, replacing the field of scalars with a unital ring of scalars.

\begin{defn}[]
	Let $R$ be a unital ring. A \textbf{(left) $R$-module} is an additive abelian group $M$ with a left action $R \times M \to  M$ satisfying
\begin{enumerate}
	\item $\lambda(x+y) = \lambda x + \lambda y$;
	\item $(\lambda + \mu)x = \lambda x + \mu x$;
	\item $\lambda(\mu x) = (\lambda \mu)x$; and
	\item $1_{R}x = x$.
\end{enumerate}
\textbf{Right $R$-modules} are defined similarly. An \textbf{$(R,S)$-bimodule} is both a left $R$-module and a right $S$-module satisfying $(rm)s = r(ms)$.
\end{defn}
I denote left modules by $M:(R,-)$, right modules by $M:(-,R)$, and bimodules by $M:(R,S)$.

\begin{ex}[]
	$\mathbb{Z}$-modules and abelian groups are the same thing. Every right $R$-module is also a $(\mathbb{Z},R)$-bimodule.
\end{ex}

\begin{prop}
Basic properties of modules:
\begin{enumerate}
	\item $\lambda 0_{M} = 0_{M}$;
	\item $0_{R}x = 0_{M}$;
	\item $\lambda(-x) = -(\lambda x) = (-\lambda) x$.
\end{enumerate}
If $R$ is a division ring, then we also have
\begin{enumerate}
	\item[4.] $\lambda x = 0_{M} \implies \lambda=0_{R}$ or $x = 0_{M}$.
\end{enumerate}
\end{prop}

When $R$ is commutative, any left $R$-module can be given the structure of a right $R$-module (and vice versa) by defining $x \lambda \doteq \lambda x$. Thus left and right $R$-modules are the same thing in this case. If $F$ is a field, then an $F$-module is the same thing as an $F$-vector space.

The definition of modules gives us addition and scalar multiplication, but we still don't have a way of multiplying module elements together. Providing this is exactly the role of an algebra, which adds a ring structure to a module.

\begin{defn}[]
Let $R$ be a commutative unital ring. An $R$-\textbf{algebra} is an $R$-module $M$ along with a ``multiplication" map
\begin{align*}
	M \times M &\to M \\
	(x,y) &\mapsto xy.
\end{align*}
This map distributes over addition and satisfies
\[
	\lambda(xy) = (\lambda x)y = x (\lambda y).
\] 
\end{defn}

We can form more specific types of algebras by putting restrictions on the multiplication map. \textbf{Associative and commutative algebras} have associative and commutative multiplication maps, respectively. A \textbf{unital} algebra has a multiplicative identity. A \textbf{division algebra} is a unital associative algebra in which every nonzero element has a multiplicative inverse.

%--------------------------------------------------------------------------------
% Submodules
%--------------------------------------------------------------------------------
\section{Submodules}

A module is just an abelian group with a left action, so we can define a submodule to be just a subgroup that respects this action.

\begin{defn}[]
A \textbf{submodule} of an $R$-module $M$ is a subgroup of $M$ that is closed under the left action of $R$ on $M$.
\end{defn}

A module $N$ is a submodule of $M$ if and only if $N$ is closed under subtraction and scalar multiplication (the subtraction emcompasses both addition and additive inverses). From this we infer the following simple characterization of a submodule.
\begin{prop}
$N$ is an submodule of $M$ if and only if
\[
\lambda x + \mu y \in N
\] for all $x,y \in N$ and $\lambda,\mu \in R$.
\end{prop}

Thus given any set $S \subseteq M$, we can form a submodule of $M$ by adding in all linear combinations of the elements of $S$ (remember that linear combinations are by definition finite sums, so the induction works). This could be a good enough definition of $\ang{S}$, but we have to make sure that we aren't adding in any unnecessary terms. The following definition ensures this is the case, the next proposition shows that the definition makes sense, and the following theorem shows that our definition is equivalent to the linear combination approach.

\begin{defn}[]
Given a set $S \subseteq M$, let the \textbf{generating set} $\ang{S}$ be the intersection of all submodules of $M$ containing $S$.
\end{defn}

\begin{prop}
If $\left\{ M_{\alpha} \right\}_{\alpha}$ is a family of submodules of $M$, then $\bigcap_{\alpha}M_{\alpha}$ is also a submodule of $M$.
\end{prop}

\begin{thrm}[]
	\label{thrm:LC}
	Let $S \subseteq M$, and let $LC(S)$ denote the set of all linear combinations of $S$. Then
	\[
	\ang{S}=
	\begin{cases}
		\left\{ 0 \right\} & \text{ if } S = \varnothing,\\
		LC(S) & \text{ otherwise}.
	\end{cases}
	\] 
\end{thrm}
\begin{proof}
	The case $S = \varnothing$ is clear since all subgroups must contain 0, so assume $S$ is nonempty. It's clear that $LC(S)$ is a submodule of $M$. Since $S \subseteq LC(S)$, this means $LC(S)$ is a submodule of $M$ containing $S$, i.e. $\ang{S} \subseteq LC(S)$. But every linear combination of $S$ must be in any submodule containing $S$, so $LC(S) \subseteq \ang{S}$ too. Thus $\ang{S}= LC(S)$.
\end{proof}

If \{$M_{\alpha}\}_{\alpha}$ is a family of submodules of $M$, then $\bigcup_{\alpha}M_{\alpha}$ won't be a submodule in general (unlike $\bigcap_{\alpha}M_\alpha$), but it can certainly generate one. $\ang{\cup_{\alpha}M_{\alpha}}$ can be interpreted as the smallest submodule of $M$ containing each of the $M_{\alpha}$, and we can construct it by once again filling in all the missing linear combinations.

\begin{prop}
	Let $\mathcal{A}$ be some index set, and let $\mathbb{P}^{\star}(\mathcal{A})$ denote the set of all nonempty finite subsets of $\mathcal{A}$. Then $\Ang{\;\bigcup_{\alpha}M_{\alpha}\;}$ is all finite sums of the form
	\[
	\sum_{\beta \in \mathcal{B}} m_{\beta},
	\] where $\mathcal{B} \in \mathbb{P}^{\star}(\mathcal{A})$ and $m_{\beta} \in M_{\beta}$.
\end{prop}
\begin{proof}
	All linear combinations of the elements of $\bigcup_{\alpha}M_{\alpha}$ is this form, and $LC = \Ang{\;\bigcup_{\alpha}M_{\alpha}\;}$ by Theorem \ref{thrm:LC} since $\bigcup_{\alpha}M_{\alpha}$ is nonempty (it must contain 0).
\end{proof}
This motivates the notation
\[
\sum_{\alpha}M_{\alpha} \doteq \ang{\; \bigcup_{\alpha}M_{\alpha}\;}
\] 
and the terminology ``sum of the family $\left\{ M_{\alpha} \right\}_{\alpha}$."


%--------------------------------------------------------------------------------
% Morphisms
%--------------------------------------------------------------------------------
\section{Morphisms}

As usual, an $R$-morphism respects the structure of $R$-modules.
\begin{defn}[]
An $R$-\textbf{morphism} is a map $f:M\to N$ between $R$-modules satisfying
\begin{enumerate}
	\item $f(x+y) = f(x) + f(y)$;
	\item $f(\lambda x) = \lambda f(x)$.
\end{enumerate}
\end{defn}

Note that if $R$ is a field, then an $R$-morphism is just a linear map. Also note that if $f:M\to N$ is an $R$-morphism, then $\ker f$ is a submodule of $M$ and $\im f$ is a submodule of $N$.

\begin{prop}
Basic properties an $R$-morphism $f:M\to N$.
\begin{enumerate}
	\item $f(0_{M})=0_{N}$.
	\item $f(-x)=-f(x)$.
\end{enumerate}
\end{prop}
Because we like to be fancy, we'll use categorical language to describe specific types of $R$-morphisms:
\begin{align*}
	R\text{-monomorphism}&: \quad\quad M \mono N,\\
	R\text{-epimorphism}&: \quad\quad M \epi N.
\end{align*}
It's straightforward to show that the inverse of a bijective $R$-morphism is also an $R$-morphism, i.e. an $R$-isomorphism is just a bijective $R$-morphism. The usual properties of composed morphisms of course hold too:
\begin{itemize}
	\item The composition of morphisms/monos/epis is a morphism/mono/epi.
	\item If $gf$ is mono, then so is $f$.
	\item If $gf$ is epi, then so is $g$.
\end{itemize}
As you might expect, a map between modules induces maps between their submodules.

\begin{prop}
	Suppose we have an $R$-morphism $f:M\to N$. Then for any submodule $X$ of $M$, the image $f(X)$ is a submodule of $N$. Additionally, for any submodule $Y$ of $N$, the preimage $f^{-1}(Y)$ is a submodule of $ M$.
\end{prop}
These maps induce maps between the entire submodule lattices $L(M)$ and $L(N)$:
\begin{equation*}
	\begin{aligned}[c]
		\begin{tikzcd}
			L(M) \rar[bend left]{f^{\to }} & L(N) \lar[bend left]{f^{\leftarrow}}
		\end{tikzcd}
	\end{aligned}
	\qquad\qquad
	\begin{aligned}[c]
		f^{\to }: X &\mapsto f(X) \\
	f^{\leftarrow}: Y &\mapsto f^{-1}(Y)
	\end{aligned}
\end{equation*}

\warn{Is there a way to generalize this to something other than modules? If we have a morphism $f:X\to Y$, will $f(x)$ and $f^{-1}(y)$ have that proerty if $x$ and $y$ have the property, respectively?}
\warn{Is the defn of $R$-morphism really just saying that it preserves module-ness by respecting linear combs?}

{\color{blue}
	$f$ inj: There is a map $g:B\to A$ such that $gf = 1_{A}$.

	$f$ surj: There is a map $g:B\to A$ such that $fg = 1_{B}$.
}


%-------------------
% Exact Sequences
%-------------------
\subsection{Exact Sequences}

\begin{defn}[]
	A covariant functor $\mathcal{F}$ is one of the below if it preserves exactness in the manner depicted.
\begin{equation*}
        \begin{aligned}[c]
                \text{\textbf{exact}} \\
                \text{\textbf{left exact}} \\
                \text{\textbf{right exact}}
        \end{aligned}
        \qquad
        \begin{aligned}[c]
		A\to B\to C \quad&\leadsto\quad 0\to \mathcal{F}A\to \mathcal{F}B\to \mathcal{F}C\to 0\\
		0\to A\to B\to C \quad&\leadsto\quad 0\to \mathcal{F}A\to \mathcal{F}B\to \mathcal{F}C\\
		A\to B\to C\to 0 \quad&\leadsto\quad \qquad \mathcal{F}A\to \mathcal{F}B\to \mathcal{F}C\to 0
        \end{aligned}
\end{equation*}
The following apply to a contravariant functor $\mathcal{G}$ instead.
\begin{equation*}
        \begin{aligned}[c]
                \text{\textbf{exact}} \\
                \text{\textbf{left exact}} \\
                \text{\textbf{right exact}}
        \end{aligned}
        \qquad
        \begin{aligned}[c]
                A\to B\to C \quad&\leadsto\quad 0\to \mathcal{G}C\to \mathcal{G}B\to \mathcal{G}A\to 0\\
                A\to B\to C\to 0 \quad&\leadsto\quad 0\to \mathcal{G}C\to \mathcal{G}B\to \mathcal{G}A\\
                0\to A\to B\to C \quad&\leadsto\quad \qquad \mathcal{G}C\to \mathcal{G}B\to \mathcal{G}A\to 0
        \end{aligned}
\end{equation*}
\end{defn}

\begin{thrm}[Five Lemma]
Suppose the following diagram commutes and has exact rows.
\[
\begin{tikzcd}
	A\rar\dar{\alpha_1} & B\rar\dar{\alpha_2} & C\rar\dar{\alpha_3} & D\rar\dar{\alpha_4} & E\dar{\alpha_5} \\
	A'\rar & B'\rar & C'\rar & D'\rar & E'
\end{tikzcd}
\] 
If $\alpha_1,\alpha_2,\alpha_4,\alpha_5$ are iso, then so is $\alpha_3$.
\end{thrm}
\begin{proof}
	Apply the Four Lemma to the first three squares to show that $\alpha_3$ is monic, and to the last three squares to show that $\alpha_3$ is epic. Since it's an $R$-morphism, this is enough to show it's iso.
\end{proof}

\begin{cor}[Short Five Lemma]
Suppose the following diagram commutes and has exact rows.
\[
\begin{tikzcd}
	0\rar & A\rar\dar{\alpha} & B\rar\dar{\beta} & C\rar\dar{\gamma} & 0 \\
        0\rar & A'\rar & B'\rar & C'\rar & 0
\end{tikzcd}
\] 
If $\alpha,\gamma$ are iso, then so is $\beta$.
\end{cor}

\begin{thrm}[Four Lemma]
Suppose the following diagram commutes and has exact rows.
\[
\begin{tikzcd}
	A \rar\dar{\alpha} & B \rar\dar{\beta} & C\rar\dar{\gamma} & D\dar{\delta} \\
	A'\rar & B'\rar & C'\rar & D'
\end{tikzcd}
\] Then the following hold:
\begin{enumerate}
	\item If $\alpha,\gamma$ are epic and $\delta$ is monic, then $\beta$ is epic.
	\item If $\alpha$ is epic and $\beta,\gamma$ are monic, then $\gamma$ is monic.
\end{enumerate}
\end{thrm}

%-------------------
% Split sequences
%-------------------
\subsection{Split sequences}

\begin{defn}[]
A short exact sequence $0\to A\mono B\epi C\to 0$ \textbf{splits} if there is an isomorphism making the following diagram commute,
\[
	\begin{tikzcd}
		0 \rar & A \rar[tail]\arrow[dr,hook,"i_A"'] & B \rar[two heads]\dar[dashed]{\sim} & C \rar & 0 \\
		       & & A \oplus C \arrow[ur,two heads,"\pi_C"']
	\end{tikzcd}
\]
where $i_A$ and $\pi_C$ are natural.
\end{defn}

An epi need not have a left morphism inverse, but if it does, it's called a \textbf{split epimorphism}. Similarly, a mono with a right morphism inverse is called a \textbf{split monomorphsm}.

\begin{defn}[]
The sequence $0 \to A \stackrel{f}{\to } B \stackrel{g}{\to } C\to 0$
\begin{align*}
	\text{\textbf{splits on the left}} &\qquad \text{if $f$ is a split mono;} \\
	\text{\textbf{splits on the right}} &\qquad \text{if $g$ is a split epi.}
\end{align*}
\end{defn}

\begin{note}[]
To remember right vs. left inverse, note that the inverse gives the identity on the \textit{middle term} if we're working with a SES.
\end{note}

\begin{thrm}[Splitting Lemma]
Fix a sequence $0\to A \stackrel{f}{\to } B\stackrel{g}{\to } C\to 0$, then
\[
	\text{it splits on the left } \iff \text{ it splits on the right } \iff \text{ it splits}.
\] 
\end{thrm}
\begin{proof}
	\textbf{1 implies 3:} $f$ has a left inverse $\tilde{f}$. Define a map $B\to A\oplus C$ by $b \mapsto (\tilde{f}(b),g(b))$, then its clearly a morphism that makes the diagram commute. It's an iso by the Short Five Lemma.

	\textbf{2 implies 3:} $g$ has a right inverse $\tilde{g}$. Define a map $A\oplus C\to B$ by $(a,c)\mapsto f(a)+\tilde{g}(c)$. Similarly, this is an iso.

	\textbf{3 implies 1,2:} Suppose the iso is $\phi$, then define $\tilde{f}=\pi_{A}\phi$ and $\tilde{g}=\phi^{-1} i_C$.
\end{proof}

%--------------------------------------------------------------------------------
% Lifts and Extensions of $R$-Morphisms
%--------------------------------------------------------------------------------
\section{Lifts and Extensions of \texorpdfstring{$R$}{R}-Morphisms}

It's common to want to extend or lift an $R$-morphism. The following propositions give criteria for when this is possible.

\begin{prop}
	\label{prop:unique-lift}
Suppose $A, B, C$ are nonempty.
\[
\begin{tikzcd}
	& B \dar{f} \\
	C \arrow[ur, dashed, "\exists! \;h"] \rar{g} & A
\end{tikzcd}
\] 
Suppose $f$ is monic. Then there is a unique $R$-morphism $h$ lifting $g$ if and only if $\im g \subseteq \im f$. In this case, $h$ is epic if and only if $\im g = \im f$.
\end{prop}
\begin{proof}
	The forward direction of the first statement is clear. To go backwards, note that any $c$, there is a $b$ such that $g(c) = f(b)$ since $\im g \subseteq \im f$. Define $h$ by $c \mapsto b$, then $f(h(c)) = f(b)=g(c)$, so $h$ lifts $g$. This map is well-defined and unique since $f$ is monic. To show it's an $R$-morphism, use the morphism properties of $f$ and $g$ to show $f(h(\lambda c)) = f(\lambda h(c))$ and $f(h(c_1+c_2)) = f(h(c_1)+h(c_2))$, then use the fact that $f$ is monic.

	If $h$ is epic, it's straightforward to show that $\im f \subseteq \im g$, which proves their equality. Conversely, fix $b$ and suppose $\im f = \im g$. Then $f(b) = g(c) = f(h(c))$ for some $c$, which implies $b = h(c)$ since $f$ is monic.
\end{proof}

\begin{lem}
Suppose $f$ and $g$ are $R$-morphisms. If $\ker f \subseteq \ker g$, then
\[
	f(x) = f(y) \implies g(x) = g(y).
\] 
\end{lem}
\begin{proof}
	If $f(x) = f(y)$, then $f(x-y)=0$, so $x-y \in \ker f \subseteq \ker g$. Thus $g(x-y) = 0$, so $g(x)=g(y)$.
\end{proof}

\begin{prop}
	\label{prop:unique-ext}
	Suppose $A, B, C$ are nonempty.
	\[
	\begin{tikzcd}
		& B \dar[dashed]{\exists! \; h} \\
		A \arrow[ur, "f"] \rar{g} & C
	\end{tikzcd}
	\] 
	Suppose $f$ is epic. Then there is a unique $R$-morphism $h$ extending $g$ if and only if $\ker f \subseteq \ker g$. In this case, $h$ is monic if and only if $\ker f=\ker g$.
\end{prop}
\begin{proof}
	The forward direction of the first statement is clear. To go backwards, since $f$ is epic, any $b$ can be written $b=f(a)$ for some $a$. Then define $h:b \mapsto g(a)$. This clearly lifts $g$, and it is well-defined and unique by the preceding lemma. Showing it's an $R$-morphism is a standard check by writing $b=f(a)$ and using the morphism properties of $f$ and $g$.

	If $h$ is monic, then for $a \in \ker g$, we have $h(f(a)) = g(a)=0$. But since $f$ is monic, this implies $f(a)=0$, so $a \in \ker f$. Thus $\ker g \subseteq \ker f$, and we already know the opposite inclusion. Conversely, using the $b=f(a)$ fact, $h(b_1)=b(b_2)\implies g(a_1)=g(a_2)$, so $a_1-a_2 \in \ker g = \ker  f$, so $b_1=f(a_1) = f(a_2)=b_2$.
\end{proof}

\begin{prop}
The diagram commutes if the row is exact and $\theta g= 0$.
\[
\begin{tikzcd}
	& & A \arrow[dl, dashed, "\exists! \;h"'] \dar{g} \\
	0 \rar & X \rar{f} & Y \rar{\theta} & Z
\end{tikzcd}
\] 
\end{prop}
\begin{proof}
	$f$ must be monic and $\im g \subseteq \im f$, so a unique $h$ exists by Proposition \ref{prop:unique-lift}.
\end{proof}

Note that if $X = \ker \theta$ and $f$ is an inclusion map, then the row will always be exact.

\begin{prop}
The diagram commutes if the row is exact and $g \theta=0$.
\[
\begin{tikzcd}
	& A \\
	X \rar{\theta} & Y \uar{g}\rar{f} & Z \rar\arrow[ul, dashed, "\exists!\; h"'] & 0
\end{tikzcd}
\] 
\end{prop}
\begin{proof}
	$f$ must be epic and $\ker f \subseteq \ker g$, so a unique $h$ exists by Proposition \ref{prop:unique-ext}.
\end{proof}

Note that if $Z = X / \im \theta$ and the $f$ is a projection map, then the row will always be exact.



%+-------------------+
%| +---------------+ |
%| |    Chapter    | |
%| +---------------+ |
%+-------------------+
% Constructing Modules

\chapter{Constructing Modules}

%--------------------------------------------------------------------------------
% Quotient Modules
%--------------------------------------------------------------------------------
\section{Quotient Modules}

\warn{Hello there.}

%--------------------------------------------------------------------------------
% Products and Coproducts
%--------------------------------------------------------------------------------
\section{Products and Coproducts}

We can make a \textbf{direct product} of $R$-modules $\prod_{a}M_{\alpha}$ into an $R$-module itself by defining
\begin{align*}
	(x_{\alpha})_{\alpha} + (y_{\alpha})_{\alpha} &\doteq (x_{\alpha} + y_{\alpha})_{\alpha}, \\
	\lambda (x_{\alpha})_{\alpha} &\doteq (\lambda x_{\alpha})_{\alpha}.
\end{align*}
If we add the restriction that only a finite number of the coordinates can be nonzero, then we get the \textbf{direct sum} $\bigoplus_{\alpha} M_{\alpha}$. In this context, $\pi_{\alpha}$ denotes the canonical projection onto the $\alpha$-th coordinate, and $i_{\alpha}$ denotes the $\alpha$-th canonical injection
\[
	x \mapsto (\dots, 0, x, 0, \dots),
\] where the single nonzero coordinate is the $\alpha$-th coordinate.

Instead of worrying about individual elements, we can use the universal properties of the product and coproduct to characterize direct products and sums.

\begin{note}[]
I still use the notation $\pi_{\alpha}$ and $i_{\alpha}$ in the general categorical setting, but unless I'm specifically using them with a direct product or direct sum, they're just ordinary morphisms instead of special projections or injections.
\end{note}


\begin{defn}[]
Fix a category $\cat{C}$ and objects $\left\{ M_{\alpha} \right\}_{\alpha}$. A \textbf{product} of $\left\{ M_{\alpha} \right\}_{\alpha}$ is an object $P$ with morphisms $\pi_{\alpha}:P\to M_{\alpha}$ such that for any other object $N$ and morphisms $f_{\alpha}:N\to M_{\alpha}$, there is a unique morphism $f:N\to P$ lifting each $f_{\alpha}$.
\[
\begin{tikzcd}
	& P \dar{\pi_{\alpha}} \\
	N \arrow[ur,dashed,"f"]\rar["f_{\alpha}"'] & M_{\alpha}
\end{tikzcd}
\] 
Dually, a \textbf{coproduct} of $\left\{ M_{\alpha} \right\}_{\alpha}$ is an object $C$ with morphisms $i_{\alpha}:M_{\alpha}\to C$ such that for any other object object $N$ and morphisms $f_{\alpha}:M_{\alpha}\to N$, there is a unique morphism $f:C\to N$ extending each $f_{\alpha}$.
\[
\begin{tikzcd}
	& C \arrow[dl,dashed,"f"'] \\
	N & M_{\alpha} \lar{f_{\alpha}}\uar["i_{\alpha}"']
\end{tikzcd}
\] 
\end{defn}

\begin{prop}
	If $(P, \left\{ \pi_{\alpha} \right\})$ is a product, then each $\pi_{\alpha}$ is epic. If $(C, \left\{ i_{\alpha} \right\})$ is a coproduct, then each $i_{\alpha}$ is monic.
\end{prop}
\begin{proof}
	Fix $\alpha$, let $N=M_{\alpha}$, and let $f_{\alpha}$ be the identity. Then there are unique $f_{P}, f_{C}$ such that $\pi_{\alpha}f_P=1$ and $f_C i_{\alpha}=1$, i.e. $\pi_{\alpha}$ is epic and $i_{\alpha}$ is monic.
\end{proof}

\begin{thrm}[Uniqueness]
	If $(P, \left\{ \pi_{\alpha} \right\})$ is a product, then $(Q, \left\{ \phi_{\alpha} \right\})$ is too $\iff$ there is a unique isomorphism $P \cong Q$ such that the first diagram commutes for all $\alpha$. Dually, if $(C, \left\{ i_{\alpha} \right\})$ is a coproduct, then $(D, \left\{ j_{\alpha} \right\})$ is too $\iff$ there is a unique isomorphism $C \cong D$ such that the second diagram commutes for all $\alpha$.
	\[
	\begin{tikzcd}
		P \dar["\pi_{\alpha}"'] & Q \lar["\sim"']\arrow[dl,"\phi_{\alpha}"] & & C \rar{\sim} & D \\
		M_{\alpha} & & & M_{\alpha} \uar{i_{\alpha}}\arrow[ur, "j_{\alpha}"']
	\end{tikzcd}
	\] 
\end{thrm}
\begin{proof}
	We need only prove the case for products, since the coproduct case is dual. The forward direction is straightforward. For the backward direction, extend $P$'s unique lift gotten with the unique isomorphism's inverse to get $Q$'s unique lift.
\end{proof}

\begin{thrm}[Existence]
	$\left(\prod_{\alpha} M_{\alpha}, \left\{ \pi_{\alpha} \right\}\right)$ is a product of $\left\{ M_{\alpha} \right\}$.
\end{thrm}
\begin{proof}
	Given $N$ and morphisms $f_{\alpha}:N\to M_{\alpha}$, we define $f$ in the obvious way by
	\begin{align*}
		%f: N &\to \prod_{\alpha}M_{\alpha} \\
		x &\mapsto (f_{\alpha}(x))_{\alpha}.
	\end{align*}
	It's an $R$-morphism, it satisfies the universal property, and it clearly must be unique.
\end{proof}

\begin{note}[]
	Thus up to (unique) isomorphism, every family of $R$-modules has a unique product and coproduct. We can then call the direct product (direct sum) \textit{the} product (coproduct).
\end{note}


A consequence of the uniqueness of the product and coproduct is that both $\prod$ and $\bigoplus$ are commutative and associative (no matter what order we do things in, we end up with a product/coproduct, which must be isomorphic to the product/coproduct we got with the original ordering).

\warn{Do proof of associativity for practice.}

\warn{Finish this section.}

%--------------------------------------------------------------------------------
% The Tensor Product
%--------------------------------------------------------------------------------
\section{The Tensor Product}


\begin{note}[]
Big idea: the tensor product is a space in which multilinear maps become linear maps.
\end{note}

\begin{defn}[]
	Suppose $M:(-,R)$ and $N:(R,-)$. If $G$ is a $\mathbb{Z}$-module, then $f:M\times N\to G$ is \textbf{balanced} if
\begin{enumerate}
	\item $f(m_1+m_2,n)=f(m_1,n)+f(m_2,n)$;
	\item $f(m,n_1+n_2)=f(m,n_1)+f(m,n_2)$;
	\item $f(m \lambda,n)=f(m,\lambda n)$.
\end{enumerate}
\end{defn}

\begin{defn}[]
The \textbf{tensor product} of a right module $M$ and left module $N$ is a $\mathbb{Z}$-module $M \otimes N$ with a balanced \textbf{tensor map} $\otimes$ such that for all $\mathbb{Z}$-modules $G$ and balanced maps $f:M\times N\to G$, there is a unique $\mathbb{Z}$-morphism extending $f$ through $\otimes$.
\[
\begin{tikzcd}
	M\otimes N \arrow[dr,dashed,"\exists!\;\phi"] \\
	M\times N \uar{\otimes}\rar["f"'] & G
\end{tikzcd}
\]
\end{defn}

Note that if $M$ and $N$ are not both trivial, then $\otimes$ is \textit{never} injective. Since $\otimes(m \lambda,n) = \otimes(m,\lambda n)$, set $\lambda=0$ to get $\otimes(0,n)=\otimes(m,0)$ for all $m,n$.

\begin{prop}
$\ang{\im \otimes}=M \otimes N$.
\end{prop}
Thus every element in $M \otimes_{}N$ can be written
\[
	\sum_{i=1}^{\ell} k_i (\tilde{m}_{i}\otimes_{}\tilde{n}_{i}) = \sum_{i=1}^{\ell} m_i \otimes_{}n_i.
\] 
In general, this representation is not unique, so we are \textit{not} working with a basis.

\begin{lem}
If a $\mathbb{Z}$-morphism has an addition-respecting property on a single $m \otimes_{}n$, then it has that property on all of $M \otimes_{}N$.
\end{lem}
\begin{proof}
	You can express any element of $M \otimes_{}N$ as $\sum_i m_i \otimes_{}n_i$, and $\mathbb{Z}$-morphisms respect addition.
\end{proof}

\pagebreak
\begin{thrm}[Uniqueness]
	The tensor product is unique up to (unique) isomorphism:
	\begin{equation*}
        \begin{aligned}[c]
		M \tilde{\otimes} N \text{ is also a tensor product}
        \end{aligned}
        \qquad\iff\qquad
        \begin{aligned}[c]
		\begin{tikzcd}
			M \otimes N \rar[dashed]{\exists!\;\sim} & M \tilde{\otimes} N \\
			M\times N \uar{\otimes}\arrow[ur,"\tilde{\otimes}"']
		\end{tikzcd}
        \end{aligned}
	\end{equation*}
\end{thrm}

Let $F$ be the free module on $M \times N$, and let $H$ be the subgroup of $F$ generated by all elements of the form
\begin{align*}
	i(m_1+m_2,n) - i(m_1,n) - i(m_2,n),\\
	i(m,n_1+n_2) - i(m,n_1) - i(m,n_2),\\
	i(m\lambda,n) - i(m,\lambda n).
\end{align*}
If $M\times N \stackrel{i}{\to } F \stackrel{\pi}{\to } F/H$, define
\begin{align*}
	M \otimes_{R}N &\doteq F/H,\\
	\otimes_{R} &\doteq \pi i.
\end{align*}
This gives us the canonical tensor product of $M \times N$.

\begin{thrm}[Existence]
$M \otimes_{R}N$ is a tensor product of $M \times N$.
\end{thrm}
\begin{proof}
	Recall that $M \otimes_{R}N =F/H$ and $\otimes_{R} = \pi i$.
	\begin{equation*}
        \begin{aligned}[c]
        	\begin{tikzcd}
			F \rar[two heads]{\pi} \arrow[dr,dotted,"\exists!\;h"] & F/H \dar[dashed]{\exists!\;\phi} \\
			M\times N \uar[hook]{i}\rar["f"'] & G
		\end{tikzcd}
        \end{aligned}
        \qquad\leadsto\qquad
        \begin{aligned}[c]
                \begin{tikzcd}
			M \otimes_{R} N \arrow[dr,dashed,"\exists!\;\phi"] \\
			M\times N \uar{\otimes_{R}} \rar["f"'] & G
                \end{tikzcd}
        \end{aligned}
        \end{equation*}
	Since $F$ is free, we get $h$ extending $f$. Then since $f$ is balanced, the definition of $H$ gives $\ker \pi=H \subseteq \ker f$. Then since $\pi$ is epic, Proposition \ref{prop:unique-ext} gives us $\phi$ extending $h$. Now $\phi$ is the only morphism extending $h$ through $\pi$, but it is also the only morphism extending $f$ through $\pi i$: if $\tilde{\phi}$ also extends $f$, then $\phi \pi i = \tilde{\phi}\pi i = f = hi$. But $h$ is unique, so $\phi \pi=\tilde{\phi}\pi$, which implies $\phi=\tilde{\phi}$ since $\pi$ is epic.
\end{proof}

\begin{note}[]
	Thus up to (unique) isomorphism, there is a unique tensor product of $M \times N$. We'll call $M \otimes_{R}N$ \textit{the} tensor product of $M \times N$, and we'll also denote $m \otimes_{R}n \doteq \otimes_{R}(m,n)$.
\end{note}

\begin{prop}
\begin{enumerate}
	\item $\otimes_{}$ distributes over addition.
	\item $m \lambda\otimes_{}n = m \otimes_{}\lambda n$.
\end{enumerate}
\end{prop}
\begin{proof}
	$\otimes_{}$ is balanced by definition.
\end{proof}

\begin{cor}
\begin{enumerate}
	\item $0\otimes_{}n = m\otimes_{}0 = 0$.
	\item For all integers $k$, we have $k(m\otimes_{}n)=km \otimes_{}n = m\otimes_{}kn$.
\end{enumerate}
\end{cor}

\begin{ex}[Tensoring with $\mathbb{Q}$]
	Let $M$ be a right $\mathbb{Z}$-module, then $M\otimes_{\mathbb{Z}}\mathbb{Q}$ is essentially a torsion-free version of $M$. Suppose $m \in M$ is a torsion element, i.e. there is an $n\in \mathbb{N}$ such that $n m = 0 $, then for all $q \in \mathbb{Q}$,
	\[
	m \otimes_{}q = m \otimes_{}\frac{n q}{n} = n m \otimes_{}\frac{q}{n} =0 \otimes_{}\frac{q}{n} =0.
	\] 
\end{ex}

The tensor product preserves module-ness in a manner similar to how dimensions work with matrix multiplication. The bimodules need to align in the middle, and the bimodules on the outside determine the bimodules of the tensor product.

\begin{prop}
	\begin{align*}
		M:(S,R), \quad N:(R,T) &\quad\implies\quad M\otimes_{R}N:(S,T)
	\end{align*}
	with the actions
	\begin{align*}
		s \left( \sum_i m_i \otimes_{R}n_i \right) &\doteq \sum_i sm_i \otimes_{R}m_i, \\
		\left( \sum_i m_i \otimes_{R}n_i \right) t &\doteq \sum_i m_i \otimes_{R}m_i t.
	\end{align*}
\end{prop}

\begin{cor}
If $R$ is commutative and $M,N$ are $R$-modules, then $M \otimes_{R}N$ is also an $R$-module.
\end{cor}

\begin{note}[]
	If $M:(-,R)$ and $N:(R,-)$, then $M \otimes_{R}N$ is a $\mathbb{Z}$-module since every right $R$-module is also a $(\mathbb{Z},R)$-bimodule.
\end{note}

\begin{prop}
	$\otimes_{}$ is associative:
	\[
		(M \otimes N)\otimes P \cong M\otimes(N\otimes P).
	\] 
\end{prop}


\newpage
%-------------------
% Multilinearity to Linearity
%-------------------
\subsection{Multilinearity to Linearity}

\begin{defn}[]
Suppose $R$ is commutative and ${M}_1, \dots, {M}_{n}$ and $N$ are $R$-modules. We say
\[
\phi:{M}_1 \times \dots \times {M}_{n} \to N
\] is \textbf{$n$-multilinear} over $R$ if it's an $R$-morphism (i.e. $R$-linear) in each factor.
\end{defn}

Since $\otimes_{}$ is associative, the following theorem is unambiguous.

\begin{thrm}[]
Suppose $R$ is commutative and ${M}_1, \dots, {M}_{n}$ and $N$ are $R$-modules. If $f:M_1\times \cdots \times M_n \to N$ is $n$-multilinear, then it extends uniquely through the tensor product to an $R$-morphism (i.e. an $R$-linear map).
\[
\begin{tikzcd}
	M_1 \otimes_{}\cdots \otimes_{}M_n \arrow[dr,dashed,"\exists!\;\phi"] \\
	M_1\times \cdots \times M_n \uar \rar["f"'] & N
\end{tikzcd}
\] The map $(m_1,\dots,m_n) \mapsto m_1\otimes_{}\cdots \otimes_{}m_n$ is also $n$-multilinear.
\end{thrm}


%+-------------------+
%| +---------------+ |
%| |    Chapter    | |
%| +---------------+ |
%+-------------------+
% Special Modules

\chapter{Special Modules}

%--------------------------------------------------------------------------------
% Chain Conditions and Towers
%--------------------------------------------------------------------------------
\section{Chain Conditions and Towers}

Any modules can be broken down into some ascending or descending sequences of submodules. If we restrict our attention to only modules with finite such sequences, then we characterize them further.

\begin{defn}[]
An $R$-module $M$ is \textbf{Noetherian} if for all ascending submodule chains
\[
M_0 \subseteq M_1 \subseteq M_2 \subseteq \cdots,
\] there is some $n \in \mathbb{N}$ such that $M_{n+k} = M_{n}$ for all $k \in \mathbb{N}$, i.e. the chain stabilizes at $n$. We say that $M$ is \textbf{Artinian} if for all descending chains
\[
M_0 \supseteq M_1 \supseteq M_2 \supseteq \cdots,
\] there is again some $n$ at which the chain stabilizes. We call these two qualities \textbf{chain conditions}.
\end{defn}

We can also define similar concepts for unordered sets of submodules.
\begin{defn}[]
	An $R$-module $M$ has the \textbf{maximal (minimal) condition} if every nonempty collection of submodules of $M$ has some maximal (minimal) submodule w.r.t. set inclusion.
\end{defn}

Note that we're using maximal/minimal, \textit{not} maximum/minimum. This is important.

\begin{thrm}[]
	TFAE:
	\begin{enumerate}
		\item $M$ is Noetherian.
		\item $M$ satisfies the maximal condition.
		\item Every submodule of $M$ is finitely generated.
	\end{enumerate}
\end{thrm}

\begin{thrm}[]
TFAE:
\begin{enumerate}
	\item $M$ is Artinian.
	\item $M$ satisfies the minimal condition.
\end{enumerate}
\end{thrm}
\warn{Is there any similar thing about being finitely generated, or is that just a property of Noetherian modules?}

A nice property of chain conditions is that they are passed onto submodules and quotient modules. The converse also holds.
\begin{prop}
If $M$ has some chain condition, then each of its submodules and quotient modules has it too. Conversely, if every submodule $N$ of $M$ and every quotient module $M/N$ has the same chain condition, then so does $M$.
\end{prop}

%-------------------
% Simple Modules
%-------------------
\subsection{Simple Modules}

A very extreme case of the above conditions is when a module's only proper submodule is the trivial submodule. These modules are called \textbf{simple}. As you might expect (since $R$-morphisms induce maps between submodules), modules going to or coming from a simple module are pretty restricted.

\begin{prop}
If $f:M\to N$ is a nonzero $R$-morphism, then:
\begin{enumerate}
	\item If $M$ is simple, then $f$ is monic.
	\item If $N$ is simple, then $f$ is epic.
\end{enumerate}
\end{prop}
\begin{proof}
	$\ker f$ and $\im f$ are submodules of $M$ and $f \neq 0 \implies $ $\ker f=0$ and $\im f = N$.
\end{proof}

\begin{cor}[Schur]
	If $M$ is simple, then $\text{End}_{R}(M)$ is a division ring.
\end{cor}
\begin{proof}
	Every nonzero endomorphism is necessarily iso. Since the natural multiplication on $\text{End}_{R}(M)$ is composition, this means every nonzero element has a multiplicative inverse.
\end{proof}

%-------------------
% Submodule Towers
%-------------------
\subsection{Submodule Towers}

\warn{Stuff here.}












Extra nice modules will be both Noetherian and Artinian, and its these modules that have a special ``height" characterization based on their submodule towers.


%--------------------------------------------------------------------------------
% Free Modules
%--------------------------------------------------------------------------------
\section{Free Modules}

\begin{note}[]
Big idea: free modules are modules with a basis.
\end{note}

Given a nonempty set $S$ and a ring $R$, we can fill in all the missing linear combinations of $S$ to get a module $\ang{S}$. This module is ``free" of any unnecessary relations between its elements: it contains every possible linear combination of terms, with nothing simplified via some other relation.

\begin{defn}[]
Fix a category, then a \textbf{free object} on a set $S$ is an object $F$ with a map $i:S\to F$ such that for all other objects $M$, every map $f:S\to M$ extends uniquely through $i$ to a morphism $F\to M$.
\[
\begin{tikzcd}
	F \arrow[dr, dashed, "\exists! \; h"] \\
	S \uar{i}\rar["f"'] & M
\end{tikzcd}
\] 
We denote this by $(F, i)$ and say that $F$ is free on $S$.
\end{defn}

\begin{prop}
	If $(F,i)$ is a free module, then $f$ is injective and $\ang{\im i}= F$.
\end{prop}

\begin{thrm}[Uniqueness]
	\label{thrm:free-unique}
	Suppose $(F,i)$ is free on $S$. Then so is $(G,j) \iff$ there is a unique isomorphism $F \cong G$ making the following diagram commute.
	\[
	\begin{tikzcd}
		F \rar[dashed]{\exists!\;\sim} & G \\
		S \uar{i}\arrow[ur,"j"']
	\end{tikzcd}
	\] 
\end{thrm}

\begin{thrm}[Existence]
	For every nonempty set $S$, there is a free $R$-module on $S$.
\end{thrm}
\begin{proof}
	Let $F = \bigoplus_{s \in S}Rs$ denote the set of all formal linear combinations of $S$, which has elements of the form $\sum_s r_s s$, where only finitely many of the $r_s$ are nonzero. There's a natural inclusion $i: S \inj F$. Given $M$ and $g$, define $h$ on $i(S)$ by $h(s) = g(s)$, then extend by linearity to all of $F$. It's necessarily a unique $R$-morphism that satisfies the universal property.
\end{proof}

\begin{note}[]
	Thus up to (unique) isomorphism, every nonempty set $S$ has a unique free $R$-module. The map $s\to \mathbf{e}_{s}$ gives $\bigoplus_{s \in S}Rs \cong \bigoplus_{s \in S}R$, so we can use $\bigoplus_{s \in S}R$ or $\bigoplus_{s \in S}Rs$ as \textit{the} free $R$-module on $S$.
\end{note}

\begin{thrm}[]
Every module is the quotient of a free module.
\end{thrm}
\begin{proof}
	Fix a module $M$ with generating set $S$ (it certainly has \textit{some} generating set since $\ang{M}=M$), and let $F$ be free on $M$. The universal property of free modules gives a unique morphism $\phi:F\to M$ extending the natural inclusion $S \inj M$.
	\[
	\begin{tikzcd}
		F \arrow[dr,dashed,"\phi"] \\
		S \uar[hook] \rar[hook] & M
	\end{tikzcd}
	\] Since $\ang{S}=M$, $\phi$ must be epic, so the 1st iso theorem gives $M \cong F / \ker \phi$.
\end{proof}

\begin{cor}
	Every finitely generated module is a quotient of a free module with a finite basis.
\end{cor}

%-------------------
% Bases
%-------------------
\subsection{Bases}

\begin{defn}[]
A \textbf{basis} of an $R$-module $M$ is a linearly independent subset of $M$ that generates $M$.
\end{defn}

\begin{thrm}[]
A nonempty subset $S \subseteq M$ is a basis of $M \iff$ each element of $M$ can be uniquely expressed as a linear combination of elements of $S$.
\end{thrm}

\begin{prop}
	If $(F,i)$ is a free module, then $\im i$ is a basis of $F$.
\end{prop}
\begin{proof}
	Suppose $(F,i)$ is free over some nonempty $S$, then we know $F \cong \bigoplus_{s}Rs$, and it's clear that $S$ is a basis of $\bigoplus_{s}Rs$. We can then translate this basis for $\bigoplus_{s}Rs$ into a basis for $F$ since the isomorphism necessarily commutes with both modules' inclusion maps by Theorem \ref{thrm:free-unique}.
\end{proof}

\begin{thrm}[]
A module is free $\iff$ it has a basis.
\end{thrm}
\begin{proof}
	If $F$ is free, then $F\cong \bigoplus_{s}Rs$, so its basis is $S$ mapped through the isomorphism. Conversely, if $S$ is a basis of $F$, then there is a natural inclusion $i:S \inj F$. Fix another module $M$ and a map $f:S\to M$, then the only way to get an $R$-morphism $h:F\to M$ is to define $h(s) \doteq g(s)$ and then extend by linearity, which is unique. Thus $F$ is free.
\end{proof}

\warn{Fill in other notes here.}

\begin{thrm}[]
	The coproduct of free objects is itself free. Explicitly, if $F_{\alpha}$ is free over $S_{\alpha}$, then $\coprod_{\alpha} F_{\alpha}$ is free over $\bigsqcup_\alpha S_{\alpha}$.
\end{thrm}
\begin{proof}
	Suppose we have a family of free objects $F_{\alpha}$ over $S_{\alpha}$. Fix $\alpha$, and let $M$ and $g:\bigsqcup_\alpha S_{\alpha}\to M$ be arbitrary.
	\[
		\begin{tikzcd}
F_\alpha \arrow[r, "j_\alpha", hook]                                                                  &  \coprod_{\alpha} F_\alpha \arrow[rdd, "\exists!\;\phi", dashed, bend left]                                                        &   & F_\alpha \arrow[rrdd, "\exists!\;f", dashed] &  &   \\
S_\alpha \arrow[rrd, "f_\alpha"', bend right] \arrow[u, "i_\alpha", hook] \arrow[r, hook, shift left] & \bigsqcup_\alpha S_\alpha \arrow[u, "i", hook] \arrow[rd, "g" description] \arrow[l, "\pi_\alpha", two heads, shift left] &   &                                              &  &   \\
                                                                                                      &                                                                                                                                   & M &                                              &  & M
\end{tikzcd}
	\] The diagram's got a lot going on, but it's straightforward. All four inclusions and the one projection are the natural ones, so the square commutes. The map $g$ induces $f_{\alpha}$ by $f_{\alpha}\pi_{\alpha}=g|_{S_{\alpha}}$. Then $f$ comes from the universal property of free modules, so $f i_{\alpha}=f_{\alpha}$. Then $\phi$ comes from the universal property of the coproduct, so $\phi j_{\alpha}=f$.

	To show that $\coprod_{\alpha} F_{\alpha}$ is free, we have to show that $\phi$ extends $g$ through $i$. But for any $s \in \bigsqcup_\alpha S_{\alpha}$ coming from $S_{\alpha}$,
	\[
		(\phi i)(s) = (\phi j_{\alpha} i_{\alpha} \pi_{\alpha})(s) = (f_{\alpha}\pi_{\alpha})(s) = g(s),
	\] 
	so $\phi i=g$. Thus $\coprod_{\alpha} F_{\alpha}$ is free on $\bigsqcup_\alpha S_{\alpha}$.
\end{proof}

\begin{cor}
	The direct sum of free $R$-modules is itself free.
\end{cor}

\begin{prop}
	The tensor product of free $R$-modules is itself free.
\end{prop}
\begin{proof}
	$(\bigoplus_{\alpha}R) \otimes_{R} (\bigoplus_{\beta}R) \quad\cong \quad \bigoplus_{\alpha,\beta}R \otimes_{R}R \quad\cong \quad \bigoplus_{\alpha,\beta}R$.
\end{proof}

\warn{Finish this section}

%--------------------------------------------------------------------------------
% Hom Sets
%--------------------------------------------------------------------------------
\section{Hom Sets}

Given $R$-modules $M,N$, the set $\hom(M,N)$ is an abelian group under function addition, but the left action $(\lambda, f) \mapsto \lambda f$ doesn't necessarily make $\hom(M,N)$ into an $R$-module ($\lambda f$ might not be a morphism). This is only true if $R$ is commutative.

\begin{note}[]
An abelian group iso is the same thing as a $\mathbb{Z}$-iso.
\end{note}

\begin{prop}
	If $M:(R,S)$ and $N:(R,T)$, then $\hom_R(M,N):(S,T)$ with actions
	\begin{align*}
		s\phi : m &\mapsto \phi(ms)\\
		\phi t : m &\mapsto \phi(m)t.
	\end{align*}
	If $M:(S,R)$ and $N:(T,R)$, then $\hom_R(M,N):(T,S)$ with actions
	\begin{align*}
		t\phi : m &\mapsto t\phi(m)\\
		\phi s : m &\mapsto \phi(sm).
        \end{align*}
\end{prop}

\begin{cor}
	If $R$ is commutative and $M,N$ are both $R$-modules, then so is $\hom_R(M,N)$.
\end{cor}

\begin{thrm}[]
	The following are $\mathbb{Z}$-isos.
\begin{enumerate}
	\item $\hom\left(\bigoplus_{\alpha}M_{\alpha}, N\right) \cong \prod_{\alpha}\hom\left( M_{\alpha},N \right)$.
	\item $\hom\left( N, \prod_{\alpha}M_{\alpha} \right) \cong \prod_{\alpha}\hom(N, M_{\alpha})$.
\end{enumerate}
\end{thrm}

\begin{cor}
If $R$ is commutative, then the above $\mathbb{Z}$-isos are also $R$-isos.
\end{cor}

\begin{cor}
	If we're dealing with a finite set ${M}_1, \dots, {M}_{n}$, then we have $\mathbb{Z}$-isos
	\begin{enumerate}
		\item $\hom(\bigoplus_{i=1}^{n}M_{i}, N) \cong \bigoplus_{i=1}^{n}\hom(M_i,N)$;
		\item $\hom(N, \bigoplus_{i=1}^{n}M_i) \cong \bigoplus_{i=1}^{n}\hom(N, M_i)$.
	\end{enumerate}
\end{cor}

%-------------------
% Hom Functors
%-------------------
\subsection{Hom Functors}

Fix a module $M$, then for any other module $A$, there are associated abelian groups $\hom(A,M)$ and $\hom(M,A)$. A morphism $f:A\to B$ also induces maps on the hom sets via pre/post composition.
\begin{equation*}
        \begin{aligned}[c]
                \begin{tikzcd}
			A \rar{f} & B \arrow[dl, dashed] \\
			M \uar[dashed]
                \end{tikzcd}
        \end{aligned}
        \qquad\qquad
        \begin{aligned}[c]
		f_{*}: \hom(M, A) &\to \hom(M,B) \\
		g &\mapsto fg\\ \\
		f^{*}: \hom(A, M) &\leftarrow \hom(B,M) \\
		gf &\mapsfrom g
        \end{aligned}
\end{equation*}

\begin{prop}
	Both induced maps respect addition. Also, $(gf)_{*}=g_{*}f_{*}$ and $(gf)^{*}=f^{*}g^{*}$.
\end{prop}
\begin{note}
	This says that $\hom(M,-)$ is a covariant functor, while $\hom(-,M)$ is contravariant.
\end{note}

\begin{thrm}[]
	$\hom(M,-)$ and $\hom(-,M)$ are left exact. Explicitly, for all short exact
\[
        \begin{tikzcd}
                0 \rar & A \rar{f} & B\rar{g} & C \rar & 0,
        \end{tikzcd}
\] the following induced sequences are exact.
\[
\begin{tikzcd}
        0 \rar & \hom(M,A) \rar{f_{*}} & \hom(M,B) \rar{g_{*}} & \hom(M,C) \\
               & \hom(A,M) & \hom(B,M)\lar["f^{*}"'] & \hom(C,M)\lar["g^{*}"'] & 0\lar
\end{tikzcd}
\]
\end{thrm}

\begin{cor}[]
	Suppose $0 \to A \stackrel{f}{\to } B \stackrel{g}{\to } C\to 0$ is split exact, then the following induced sequences are also split exact.
	\[
	\begin{tikzcd}
		0 \rar & \hom(M,A) \rar{f_{*}} & \hom(M,B) \rar{g_{*}} & \hom(M,C)\rar & 0 \\
		0 & \hom(A,M)\lar & \hom(B,M)\lar["f^{*}"'] & \hom(C,M)\lar["g^{*}"'] & 0\lar
	\end{tikzcd}
	\]
\end{cor}
\begin{proof}
	We only do this for the first induced sequence, as the second one is dual. Since the original SES splits, $g$ has a right inverse $\tilde{g}$. Then $g_{*}\tilde{g}_{*} = (g\tilde{g})_{*} = (1_{C})_{*}$, which is the identity on $\hom(M,C)$. Thus $g_{*}$ is epic and the sequence splits. By the previous theorem, the rest of the sequence is exact.
\end{proof}

\begin{note}[]
In general, though, we can't guarantee that $g_{*}$ or $f^{*}$ is surjective. This motivates the definition of projective and injective modules.
\end{note}

\begin{thrm}[Tensor-hom adjunction]
	The following are $\mathbb{Z}$-isos.
\begin{equation*}
	\begin{aligned}
		A&:(-,R)\\
		B&:(R,S)\\
		C&:(-,S)
	\end{aligned}
	\qquad\qquad
	\begin{aligned}
		\hom_S(A\otimes_{R}B,C) \cong \hom_R(A,\hom_S(B,C))
	\end{aligned}
\end{equation*}

\vspace{5mm}

\begin{equation*}
	\begin{aligned}
		A&:(R,-)\\
		B&:(S,R)\\
		C&:(S,-)
	\end{aligned}
	\qquad\qquad
	\begin{aligned}
		\hom_S(B\otimes_{R}A,C) \cong \hom_R(A,\hom_S(B,C))
	\end{aligned}
\end{equation*}
\end{thrm}
\begin{proof}
	\warn{Do this.}
\end{proof}

%--------------------------------------------------------------------------------
% Projective and Injective Modules
%--------------------------------------------------------------------------------
\section{Projective and Injective Modules}

\warn{I don't think I understand \textit{intuitively} why projective/injective isn't always true.}

\begin{note}[]
	Big idea: a projective module $P$ makes any short exact $0\to A \to B \to P \to 0$ split. An injective module $Q$ makes any short exact $0 \to I\to B\to C\to 0$ split. They make the hom functors exact.
\end{note}

\begin{defn}[]
	The following special types of modules preserve exactness of the given induced sequences for any arbitrary short exact $0 \to A\stackrel{f}{\to } B\stackrel{g}{\to } C\to 0$.
	\begin{equation*}
		\begin{aligned}
			P \text{ is \textbf{projective}} \\
			Q \text{ is \textbf{injective}}
		\end{aligned}
		\qquad
		\begin{aligned}
			&\hom(P,B) \stackrel{g_{*}}{\to } \hom(P,C)\to 0 \\
			0 \ot &\hom(A,Q) \stackrel{f^{*}}{\ot} \hom(B,Q)
		\end{aligned}
	\end{equation*}
Equivalently,
\begin{equation*}
	\begin{aligned}
		\text{\textbf{projective}}\\
		\text{\textbf{injective}}\\
	\end{aligned}
	\qquad
	\begin{aligned}
		&\text{if $g$ is epic, then so is $g_{*}$}\\
		&\text{if $f$ is monic, then $f^{*}$ is epic}
	\end{aligned}
\end{equation*}
Equivalently, if $g$ is epic, then so is $g_{*}$.
\end{defn}

\begin{prop}
	Effect on the hom functors:
	\begin{equation*}
		\begin{aligned}
			\hom(P,-) \text{ is exact } &\iff P \text{ is projective} \\
			\hom(-,Q) \text{ is exact } &\iff Q \text{ is injective}
		\end{aligned}
	\end{equation*}
\end{prop}

\begin{thrm}[Characterizations of projective modules]
	TFAE:
	\begin{enumerate}
		\item $P$ is a projective module.
		\item Any morphism $P\to C$ can be lifted (not necessarily uniquely) through epis, i.e. whenever $B\to C\to 0$ is exact.
			\[
			\begin{tikzcd}
				& P \arrow[dl, dashed, "\exists\;\phi"'] \dar \\
				B \rar[two heads] & C \rar & 0
			\end{tikzcd}
			\]
		\item Every short exact $0\to A\to B\to P\to 0$ splits.
		\item $P$ is a direct summand of a free module, i.e. there is some $\tilde{P}$ such that $P \oplus \tilde{P}$ is free.
	\end{enumerate}
\end{thrm}

\begin{cor}
	Free modules are projective.
\end{cor}

The converse of this isn't true in general, so the following is strict:
\[
	\left\{ \text{all free modules} \right\} \subset \left\{ \text{all projective modules} \right\}.
\] 

\begin{cor}
Every module is the quotient of a projective module.
\end{cor}

\begin{proof}
	Every module is the quotient of a free module, and free modules are projective.
\end{proof}

\begin{thrm}[Characterizations of injective modules]
	TFAE:
	\begin{enumerate}
		\item $Q$ is an injective module.
		\item Any morphism $B\to Q$ can be extended (not necessarily uniquely) through monos, i.e. whenever $0\to B\to C$ is exact.
			\[
			\begin{tikzcd}
				0 \rar & B \rar[tail]\dar & C \arrow[dl,dashed,"\exists\;\phi"] \\
				       & Q
			\end{tikzcd}
			\] 
		\item Every short exact $0\to Q\to B\to C\to 0$ splits.
	\end{enumerate}
\end{thrm}

Since there's nothing really dual to free modules, there's no real dual notion of the free module characterization of projective modules. That's why we only have three characterizations for injective modules above instead of four.

\begin{prop}
$M \oplus N$ is projective/injective $\iff M$ and $N$ are both projective/injective.
\end{prop}
\warn{Generalize for arbitrary number of products.}

\begin{prop}
	Let $R$ be commutative. If $M,N$ are projective, then so is $M\otimes_{R}N$.
\end{prop}
\begin{proof}
	Since $M,N$ are projective, $\hom(M,-)$ and $\hom(N,-)$ are exact, so $\hom(M,-)\circ \hom(N,-)$ is too. But by the tensor-hom adjunction,
	\[
		\hom(M,-)\circ \hom(N,-) \cong \hom(M\otimes_{R}N,-),
	\] so $M\otimes_{R}N$ is projective.
\end{proof}

%--------------------------------------------------------------------------------
% Flat Modules
%--------------------------------------------------------------------------------
\section{Flat Modules}

\begin{note}[]
Big idea: a flat module $M$ makes the $M \otimes_{}-$ and $-\otimes_{}M$ functors exact.
\end{note}

Suppose $M:(-,R)$, then
\begin{align*}
	M \otimes_{R} - : \cat{Mod-R} &\to \cat{Ab} \\
			N &\mapsto M \otimes_{R} N \\
			f &\mapsto 1 \otimes_{}f
		\end{align*} is a covariant functor. If $M:(S,R)$, then it's $\cat{Mod-R}\to \cat{S-Mod}$ instead.

\begin{thrm}
$M \otimes_{}-$ is right exact, i.e. if $0\to A\to B\to C\to 0$ is exact, then so is
\[
\begin{tikzcd}
	M\otimes_{}A \rar & M\otimes_{}B \rar & M\otimes_{}C \rar & 0.
\end{tikzcd}
\] 
\warn{The induced sequence above is exact for \textit{all} $M:(-,R) \iff A\to B\to C\to 0$ is exact.}
\end{thrm}

\begin{prop}
	$M \otimes_{}-$ preserves split exactness.
\end{prop}
\begin{proof}
	If $0\to A\to B\to C\to 0$ is split exact, $M\otimes_{}B \cong M\otimes_{}(A \oplus C) \cong (M\otimes_{}A) \oplus (M\otimes_{}C)$.
\end{proof}

\begin{ex}[]
Let $M=\mathbb{Z}_2$, then
\begin{align*}
	\mathbb{Z}_2 \otimes_{\mathbb{Z}} \mathbb{Z} &\cong \mathbb{Z}_2 \\
	\mathbb{Z}_2 \otimes_{\mathbb{Z}} \mathbb{Q} &\cong 0
\end{align*}
(since each element of $\mathbb{Z}_2$ is a torsion element). Thus any morphism $\mathbb{Z}\to \mathbb{Q}$ induces the zero map. In particular, the natural inclusion $\mathbb{Z}\inj \mathbb{Q}$ (monic) induces the zero map (not monic). Thus $M \otimes_{}-$ is only right exact.
\end{ex}

\begin{defn}[]
	$M$ is a \textbf{flat} module if $M \otimes_{R}-$ is exact. Equivalently, if $f$ is monic, then so is $1 \otimes_{}f$.
\end{defn}

\begin{prop}
Free $\implies $ flat.
\end{prop}
\begin{proof}
	Suppose $F \cong \bigoplus_{\alpha}R$ is free, then \warn{question about this proof...}
\end{proof}

\begin{cor}
Projective $\implies $ flat.
\end{cor}
\begin{proof}
	If $P$ is projective, then $P \oplus \tilde{P}$ is free for some $\tilde{P}$. Since this sum is free, it's flat: if $f:A\to B$ is monic, then so is
	\[
	\begin{tikzcd}
		(P\oplus \tilde{P})\otimes_{}A \rar{1\otimes_{}f} \dar{\sim} & (P\oplus \tilde{P})\otimes_{}B \dar{\sim} \\
		(P\otimes_{}A) \oplus (\tilde{P}\otimes_{}A) \uar & (P\otimes_{}B)\oplus (\tilde{P}\otimes_{}B) \uar
	\end{tikzcd}
	\] Thus $1\otimes_{}f:P\otimes_{}A\to P\otimes_{}B$ is monic.
\end{proof}

\begin{note}[]
\[
	\text{Free } \implies \text{ Projective } \implies \text{ Flat}.
\] 
\end{note}

\warn{Everything here also applies to $- \otimes_{}M$.}


%--------------------------------------------------------------------------------
% Vector Spaces
%--------------------------------------------------------------------------------
\section{Vector Spaces}

\begin{prop}
Every SES of vector spaces splits.
\end{prop}
\begin{proof}
	Every vector space has a basis, so it's free, so it's projective.
\end{proof}

\begin{cor}
	If $W$ is a subspace of a vector space $V$, then $V \cong W \oplus V/W$.
\end{cor}
\begin{proof}
	The sequence $0\to W\stackrel{i}{\to } V\stackrel{\pi}{\to } V/W\to 0$ is exact, so it splits, so $V \cong W \oplus V/W$.
\end{proof}

\begin{cor}
	\label{cor:dim-subspace}
	If $W$ is a subspace of $V$, then $\dim V = \dim W + \dim(V/W)$.
\end{cor}

\begin{cor}
	If $W$ is a subspace of finite-dimensional vector space $V$, then \\ $\dim V = \dim W \iff V=W$.
\end{cor}
\begin{proof}
	If $\dim V= \dim W$, then by Corollary \ref{cor:dim-subspace}, $\dim(V/W) = 0$. Thus $V/W=0$, so $V = W$. The other direction is clear.
\end{proof}

This isn't true for free modules in general. For example, if $n \neq 0,1$, then $n \mathbb{Z}$ is a strict submodule of $\mathbb{Z}$, yet both have dimension 1 since they each have a 1-element basis.

\begin{thrm}[Rank-Nullity]
If $\phi:V\to W$ is a linear map, then
\[
	\dim V = \dim(\im \phi) + \dim (\ker \phi).
\] 
\end{thrm}
\begin{proof}
	$\ker \phi$ is a subspace of $V$, so $V \cong \ker f \oplus V/\ker f \cong \ker f \oplus \im f$ (by 1st iso theorem).
\end{proof}

\begin{cor}
	If $V,W$ are finite-dimensional vector spaces of equal dimension, and if $\phi:V\to W$ is linear, then TFAE:
	\begin{enumerate}
		\item $\phi$ is injective;
		\item $\phi$ is surjective;
		\item $\phi$ is bijective.
	\end{enumerate}
\end{cor}
\begin{proof}
	By rank-nullity, $f$ is injective $\iff \ker \phi = 0 \iff \dim(\ker \phi)=0 \iff \dim V = \dim(\im \phi) \iff V = \im \phi \iff \phi$ is surjective.
\end{proof}



\end{document}
